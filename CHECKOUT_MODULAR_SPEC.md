# ××™×¤×™×•×Ÿ: ×¢×ž×•×“ ×¨×›×™×©×” ×ž×•×“×•×œ×¨×™ ×•×“×™× ×ž×™
## SUMIT Payment Gateway Package

> **×ª××¨×™×š**: 2025-12-09
> **×’×¨×¡×”**: 1.0
> **×¡×˜×˜×•×¡**: ×ž×ž×ª×™×Ÿ ×œ××™×©×•×¨

---

## ×ª×§×¦×™×¨ ×ž× ×”×œ×™×

### ×”×ž×¦×‘ ×”× ×•×›×—×™
×¢×ž×•×“ ×”×¨×›×™×©×” (checkout.blade.php) ×”×•× **×¡×˜×˜×™ ×•×œ× ×ž×•×ª×× ×œ×ž×•×¦×¨×™× ×©×•× ×™×**:
- ×¦×‘×¢ ×§×‘×•×¢: `#3B82F6` (×›×—×•×œ)
- ×œ×•×’×• ×§×‘×•×¢: NM-DigitalHub
- ×¢×™×¦×•×‘ ×§×‘×•×¢ ×©×œ× ×ž×©×ª× ×” ×‘×”×ª×× ×œ×ž×•×¦×¨
- ××™×Ÿ ×”×ª××ž×” ×•×™×–×•××œ×™×ª ×œ×§×˜×’×•×¨×™×•×ª ×©×•× ×•×ª ×©×œ ×ž×•×¦×¨×™×

### ×”×ž×˜×¨×”
**×œ×”×¤×•×š ××ª ×¢×ž×•×“ ×”×¨×›×™×©×” ×œ×ž×•×“×•×œ×¨×™ ×•×“×™× ×ž×™** ×›×š ×©×™×ª××™× ××ª ×¢×¦×ž×• ××•×˜×•×ž×˜×™×ª ×‘×”×ª×× ×œ×ž×•×¦×¨ ×”× ×¨×›×©:
- ×¦×‘×¢×™× ×“×™× ×ž×™×™× ×œ×¤×™ ×”×ž×•×¦×¨
- ×œ×•×’×•/××™×™×§×•×Ÿ ×ž×•×ª××
- ×ž×™×“×¢ ×¡×¤×¦×™×¤×™ ×œ×ž×•×¦×¨
- ×§×˜×’×•×¨×™×•×ª ×•×™×–×•××œ×™×•×ª ×©×•× ×•×ª
- ×©×ž×™×¨×” ×¢×œ ×ª××™×ž×•×ª ×ž×œ××” ×¢× Payable Interface

---

## ðŸ“Š ×ª×”×œ×™×š ×–×¨×™×ž×” ×ž×œ×: ×¨×›×™×©×”, ×—×™×•×‘ ×•××¡×¤×§×”

### ×¡×§×™×¨×” ×›×œ×œ×™×ª

×ª×”×œ×™×š ×”×¨×›×™×©×” ×‘×—×‘×™×œ×ª SUMIT Gateway ×”×•× **×ž×•×“×•×œ×¨×™ ×•×ž×•×ª××** ×œ×¡×•×’×™ ×ž×•×¦×¨×™× ×©×•× ×™×. ×”×–×¨×™×ž×” ×ž×©×ª× ×” ×‘×”×ª×× ×œ:
- **×¡×•×’ ×ž×•×¦×¨** (eSIM, Hosting, Domain, SSL, Generic)
- **×ž×—×–×•×¨ ×—×™×•×‘** (One-time, Monthly, Quarterly, Yearly)
- **×©×™×˜×ª ×ª×©×œ×•×** (Card, Bit, Saved Token)
- **×ž×¦×‘ PCI** (no, redirect, yes)

---

### 1ï¸âƒ£ ×–×¨×™×ž×” ×›×œ×œ×™×ª - ×¡×›×™×ž×” ×ž×§×¨×•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ×ª×”×œ×™×š ×¨×›×™×©×” ×ž×œ× (End-to-End)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   [1] ×‘×—×™×¨×ª ×ž×•×¦×¨              [2] Checkout Page            [3] ×ª×©×œ×•×
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•             â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•            â•â•â•â•â•â•â•â•â•â•â•
         â”‚                              â”‚                          â”‚
         â–¼                              â–¼                          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ MayaNetEsim  â”‚           â”‚  PublicCheckout  â”‚         â”‚   SUMIT     â”‚
   â”‚   Product    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Controller     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Gateway   â”‚
   â”‚              â”‚           â”‚  (checkout.blade)â”‚         â”‚   API       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚                          â”‚
         â”‚                              â”‚                          â”‚
         â–¼                              â–¼                          â–¼
   Implements                    Validates Form            Processes Payment
   Payable Interface             + Customer Data           + Returns Status


   [4] Order Creation           [5] Provisioning            [6] Activation
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•            â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         â”‚                              â”‚                          â”‚
         â–¼                              â–¼                          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Order       â”‚           â”‚ ProvisionOrder   â”‚         â”‚ eSIM        â”‚
   â”‚  Created     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Action         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Activation  â”‚
   â”‚ (processing) â”‚           â”‚ (queued job)     â”‚         â”‚ Service     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚                          â”‚
         â”‚                              â”‚                          â”‚
         â–¼                              â–¼                          â–¼
   Stores metadata            Maya Mobile API Call        QR Code + ICCID
   + Links to Product         or Provider-specific         Sent to Customer


   [7] Status Updates           [8] Notifications          [9] Complete
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•          â•â•â•â•â•â•â•â•â•â•â•â•
         â”‚                              â”‚                          â”‚
         â–¼                              â–¼                          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Order Status â”‚           â”‚  Email + SMS     â”‚         â”‚ Order       â”‚
   â”‚ â†’ "active"   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Notifications   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ "completed" â”‚
   â”‚              â”‚           â”‚  with QR code    â”‚         â”‚             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2ï¸âƒ£ ×–×¨×™×ž×ª Checkout (×©×œ×‘ 2) - ×¤×™×¨×•×˜

#### ×ž×¦×‘×™ PCI ×”×©×•× ×™×

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ×©×œ×•×©×” ×ž×¦×‘×™ PCI ××¤×©×¨×™×™×                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ×ž×¦×‘ 1: PCI = 'no' (PaymentsJS SDK - ×ž×•×ž×œ×¥)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Browser                SUMIT Hosted Fields         SUMIT API      â”‚
â”‚   â•â•â•â•â•â•â•                â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•         â•â•â•â•â•â•â•â•â•â•      â”‚
â”‚      â”‚                            â”‚                      â”‚           â”‚
â”‚      â”‚  1. Load PaymentsJS SDK   â”‚                      â”‚           â”‚
â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                      â”‚           â”‚
â”‚      â”‚                            â”‚                      â”‚           â”‚
â”‚      â”‚  2. Render Hosted Fields   â”‚                      â”‚           â”‚
â”‚      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚           â”‚
â”‚      â”‚    (iframe with CC inputs)â”‚                       â”‚           â”‚
â”‚      â”‚                            â”‚                      â”‚           â”‚
â”‚      â”‚  3. User enters card data  â”‚                      â”‚           â”‚
â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                      â”‚           â”‚
â”‚      â”‚                            â”‚                      â”‚           â”‚
â”‚      â”‚                            â”‚  4. Tokenize card    â”‚           â”‚
â”‚      â”‚                            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚           â”‚
â”‚      â”‚                            â”‚                      â”‚           â”‚
â”‚      â”‚                            â”‚  5. Single-use token â”‚           â”‚
â”‚      â”‚                            â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚           â”‚
â”‚      â”‚                            â”‚                      â”‚           â”‚
â”‚      â”‚  6. Token returned to form â”‚                      â”‚           â”‚
â”‚      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚           â”‚
â”‚      â”‚                            â”‚                      â”‚           â”‚
â”‚      â”‚  7. Submit form with token â”‚                      â”‚           â”‚
â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶          â”‚
â”‚      â”‚    (to PublicCheckoutController::process)        â”‚           â”‚
â”‚                                                                      â”‚
â”‚  âœ… Card data NEVER touches your server                              â”‚
â”‚  âœ… No PCI compliance required                                       â”‚
â”‚  âœ… Supports: tokens, recurring, authorize-only                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ×ž×¦×‘ 2: PCI = 'redirect' (External SUMIT Page)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Browser              Your Server              SUMIT Payment Page   â”‚
â”‚   â•â•â•â•â•â•â•              â•â•â•â•â•â•â•â•â•â•â•              â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚      â”‚                      â”‚                            â”‚           â”‚
â”‚      â”‚  1. Click "Pay"      â”‚                            â”‚           â”‚
â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                            â”‚           â”‚
â”‚      â”‚                      â”‚                            â”‚           â”‚
â”‚      â”‚                      â”‚  2. Generate payment URL   â”‚           â”‚
â”‚      â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚           â”‚
â”‚      â”‚                      â”‚                            â”‚           â”‚
â”‚      â”‚  3. Redirect to SUMITâ”‚                            â”‚           â”‚
â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚           â”‚
â”‚      â”‚                      â”‚       (external page)      â”‚           â”‚
â”‚      â”‚                      â”‚                            â”‚           â”‚
â”‚      â”‚  4. User enters card data on SUMIT's page        â”‚           â”‚
â”‚      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚           â”‚
â”‚      â”‚                      â”‚                            â”‚           â”‚
â”‚      â”‚  5. Payment processedâ”‚                            â”‚           â”‚
â”‚      â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚           â”‚
â”‚      â”‚                      â”‚                            â”‚           â”‚
â”‚      â”‚  6. Redirect back with transaction ID            â”‚           â”‚
â”‚      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚           â”‚
â”‚      â”‚                      â”‚                            â”‚           â”‚
â”‚                                                                      â”‚
â”‚  âœ… Simplest integration                                             â”‚
â”‚  âŒ No recurring billing support                                     â”‚
â”‚  âŒ No token storage                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ×ž×¦×‘ 3: PCI = 'yes' (Direct API - PCI Compliant Server)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   Browser              Your Server                   SUMIT API       â”‚
â”‚   â•â•â•â•â•â•â•              â•â•â•â•â•â•â•â•â•â•â•                   â•â•â•â•â•â•â•â•â•â•      â”‚
â”‚      â”‚                      â”‚                             â”‚          â”‚
â”‚      â”‚  1. User enters card â”‚                             â”‚          â”‚
â”‚      â”‚      data in form    â”‚                             â”‚          â”‚
â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                             â”‚          â”‚
â”‚      â”‚   (direct inputs)    â”‚                             â”‚          â”‚
â”‚      â”‚                      â”‚                             â”‚          â”‚
â”‚      â”‚                      â”‚  2. Card data sent to SUMIT â”‚          â”‚
â”‚      â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚          â”‚
â”‚      â”‚                      â”‚  (over HTTPS)               â”‚          â”‚
â”‚      â”‚                      â”‚                             â”‚          â”‚
â”‚      â”‚                      â”‚  3. Token + Transaction ID  â”‚          â”‚
â”‚      â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚          â”‚
â”‚      â”‚                      â”‚                             â”‚          â”‚
â”‚                                                                      â”‚
â”‚  âš ï¸  Card data PASSES THROUGH your server                            â”‚
â”‚  âš ï¸  Requires PCI DSS Level 1 certification                          â”‚
â”‚  âœ… Full control over flow                                           â”‚
â”‚  âœ… Supports all features                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3ï¸âƒ£ ×–×¨×™×ž×ª ×ª×©×œ×•× (Payment Flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PublicCheckoutController::process()                     â”‚
â”‚                  (src/Http/Controllers)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ Request Validated âœ“
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Payment Method?          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚                               â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
      â”‚    Card     â”‚                 â”‚    Bit     â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
             â”‚                               â”‚
             â”‚                               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  PaymentService     â”‚         â”‚ BitPaymentService  â”‚
  â”‚  ::processPayment() â”‚         â”‚ ::processPayment() â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                               â”‚
             â”‚ API Call to SUMIT             â”‚ API Call to SUMIT
             â”‚                               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ SUMIT Gateway API   â”‚         â”‚ SUMIT Bit API      â”‚
  â”‚ /creditguy/gateway/ â”‚         â”‚ /creditguy/bit/    â”‚
  â”‚     transaction/    â”‚         â”‚   transaction/     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                               â”‚
             â”‚ Response                      â”‚ Response
             â”‚                               â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Create Transaction  â”‚         â”‚ Create Transaction â”‚
  â”‚ OfficeGuyTransactionâ”‚         â”‚ OfficeGuyTransactionâ”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                               â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Payment Success?â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ YES               â”‚ NO
                   â”‚                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
          â”‚ Create Order    â”‚   â”‚   Redirect â”‚
          â”‚ (App\Models\    â”‚   â”‚   Back     â”‚
          â”‚  Order)         â”‚   â”‚   with     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   Error    â”‚
                   â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Queue Provision â”‚
          â”‚ Job (if needed) â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Redirect to     â”‚
          â”‚ Success Page    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4ï¸âƒ£ ×–×¨×™×ž×ª Provisioning (××¡×¤×§×”)

#### ×–×¨×™×ž×” ×›×œ×œ×™×ª ×œ×¤×™ ×¡×•×’ ×©×™×¨×•×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ProvisionOrder Action                             â”‚
â”‚            (app/Domain/Order/Actions/ProvisionOrder.php)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ Order Status: 'processing'
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Service Type?           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚                   â”‚               â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚  eSIM   â”‚        â”‚  Hosting  â”‚      â”‚  Domain   â”‚   â”‚   SSL   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚                   â”‚                   â”‚               â”‚
         â”‚                   â”‚                   â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚ProvisionEsimJob â”‚  â”‚ResellerClub   â”‚  â”‚ResellerClub   â”‚ â”‚Certificateâ”‚
â”‚(Queue: provisionâ”‚  â”‚Service::      â”‚  â”‚Service::      â”‚ â”‚Provider  â”‚
â”‚    ing)         â”‚  â”‚provisionHost  â”‚  â”‚registerDomain â”‚ â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚                   â”‚                   â”‚               â”‚
         â”‚                   â”‚                   â”‚               â”‚
```

#### ×–×¨×™×ž×ª eSIM (×”×ž×•×¨×›×‘×ª ×‘×™×•×ª×¨) - ×¤×™×¨×•×˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 eSIM Provisioning - Full Flow                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[A] Queue Job                [B] Provisioning Service     [C] Maya API
â•â•â•â•â•â•â•â•â•â•â•â•                 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•         â•â•â•â•â•â•â•â•â•â•â•â•
     â”‚                                â”‚                        â”‚
     â”‚ 1. Order â†’ Queue               â”‚                        â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                        â”‚
     â”‚   (ProvisionEsimJob)           â”‚                        â”‚
     â”‚                                â”‚                        â”‚
     â”‚                                â”‚ 2. Fetch package data  â”‚
     â”‚                                â”‚        (Maya product)  â”‚
     â”‚                                â”‚                        â”‚
     â”‚                                â”‚ 3. Prepare customer    â”‚
     â”‚                                â”‚        data            â”‚
     â”‚                                â”‚                        â”‚
     â”‚                                â”‚ 4. API Call            â”‚
     â”‚                                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                                â”‚  POST /purchase-esim   â”‚
     â”‚                                â”‚                        â”‚
     â”‚                                â”‚                        â”‚ [Maya Mobile]
     â”‚                                â”‚                        â”‚ â€¢ Creates eSIM
     â”‚                                â”‚                        â”‚ â€¢ Generates ICCID
     â”‚                                â”‚                        â”‚ â€¢ Creates QR code
     â”‚                                â”‚                        â”‚ â€¢ Assigns plan
     â”‚                                â”‚                        â”‚
     â”‚                                â”‚ 5. Response            â”‚
     â”‚                                â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                                â”‚  {                     â”‚
     â”‚                                â”‚    iccid: "...",       â”‚
     â”‚                                â”‚    qr_code: "...",     â”‚
     â”‚                                â”‚    activation_code:"..." â”‚
     â”‚                                â”‚  }                     â”‚
     â”‚                                â”‚                        â”‚
     â”‚ 6. Update Order metadata       â”‚                        â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚
     â”‚   order.metadata = {           â”‚                        â”‚
     â”‚     maya_net_esim: {...},      â”‚                        â”‚
     â”‚     provisioned_at: "...",     â”‚                        â”‚
     â”‚   }                            â”‚                        â”‚
     â”‚                                â”‚                        â”‚
     â”‚ 7. Update Order status         â”‚                        â”‚
     â”‚    status â†’ "active"           â”‚                        â”‚
     â”‚    provisioning_statusâ†’"done"  â”‚                        â”‚
     â”‚                                â”‚                        â”‚
     â”‚ 8. Dispatch Event              â”‚                        â”‚
     â”‚    OrderProvisioned            â”‚                        â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                        â”‚
     â”‚                                â”‚                        â”‚
     â”‚                                â–¼                        â”‚
     â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
     â”‚                      â”‚  Notifications   â”‚              â”‚
     â”‚                      â”‚  â€¢ Email with QR â”‚              â”‚
     â”‚                      â”‚  â€¢ SMS alert     â”‚              â”‚
     â”‚                      â”‚  â€¢ Push notify   â”‚              â”‚
     â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
```

#### Retry Logic (× ×™×¡×™×•× ×•×ª ×—×•×–×¨×™×)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  eSIM Provisioning Retry Strategy                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Attempt 1 (Immediate)
   â”‚
   â”‚ Fails? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                                       â”‚
   â–¼                                       â”‚
Wait 1 minute (60s)                        â”‚
   â”‚                                       â”‚
   â–¼                                       â”‚
Attempt 2                                  â”‚
   â”‚                                       â”‚
   â”‚ Fails? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                                       â”‚
   â–¼                                       â”‚
Wait 5 minutes (300s)                      â”‚
   â”‚                                       â”‚
   â–¼                                       â”‚
Attempt 3                                  â”‚
   â”‚                                       â”‚
   â”‚ Fails? â”€â”€ Send alert to admin â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                                       â”‚
   â–¼                                       â”‚
Wait 15 minutes (900s)                     â”‚
   â”‚                                       â”‚
   â–¼                                       â”‚
Attempt 4                                  â”‚
   â”‚                                       â”‚
   â”‚ Fails? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                                       â”‚
   â–¼                                       â”‚
Wait 30 minutes (1800s)                    â”‚
   â”‚                                       â”‚
   â–¼                                       â”‚
Attempt 5 (FINAL)                          â”‚
   â”‚                                       â”‚
   â”‚ Fails? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚
   â–¼
Mark as "provisioning_failed_permanent"
Create manual intervention alert
Send failure email to admins
```

---

### 5ï¸âƒ£ ×˜×‘×œ×ª ×¡×•×’×™ ×ž×•×¦×¨×™×

| ×¡×•×’ ×©×™×¨×•×ª | Provider | API Endpoint | Provisioning Time | Retry Strategy | Output |
|-----------|----------|--------------|-------------------|----------------|--------|
| **eSIM** | Maya Mobile | `/purchase-esim` | 5-30 seconds | 5 attempts (exp backoff) | ICCID, QR code, Activation code |
| **Hosting** | ResellerClub | `/hosting/provision` | 2-10 minutes | 3 attempts | cPanel username, URL |
| **Domain** | ResellerClub | `/domains/register` | 1-5 minutes | 3 attempts | Domain ID, Nameservers |
| **SSL Certificate** | Various | Provider-specific | 5-60 minutes | Manual validation | Certificate files, CSR |
| **Generic** | N/A | No external call | Instant | No retry | Metadata only |

---

### 6ï¸âƒ£ ×ž×—×–×•×¨×™ ×—×™×•×‘ (Billing Cycles)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Billing Cycle Handling                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  One-Time      â”‚  â†’ Single payment â†’ Provision â†’ Complete
â”‚  (×ª×©×œ×•× ×—×“    â”‚     No recurring billing
â”‚   ×¤×¢×ž×™)       â”‚     Example: eSIM package for 10 days
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Monthly       â”‚  â†’ Initial payment â†’ Provision â†’ Create Subscription
â”‚  (×—×•×“×©×™)      â”‚     Auto-charge every 30 days
â”‚                â”‚     Uses OfficeGuyToken (saved payment method)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quarterly     â”‚  â†’ Initial payment â†’ Provision â†’ Create Subscription
â”‚  (×¨×‘×¢×•× ×™)     â”‚     Auto-charge every 90 days
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Yearly        â”‚  â†’ Initial payment â†’ Provision â†’ Create Subscription
â”‚  (×©× ×ª×™)       â”‚     Auto-charge every 365 days
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Subscription Flow (×—×™×•×‘×™× ×—×•×–×¨×™×)

```
[Day 1]  Purchase â†’ Payment â†’ Provision â†’ Create Subscription (OfficeGuySubscription)
          â”‚
          â”‚ Store:
          â”‚  â€¢ Token (OfficeGuyToken)
          â”‚  â€¢ Billing cycle
          â”‚  â€¢ Next billing date
          â”‚  â€¢ Amount
          â”‚
[Day 30] Subscription Renewal Job (Cron)
          â”‚
          â”œâ”€ Check subscription status
          â”‚
          â”œâ”€ Charge using saved token
          â”‚   â””â”€ PaymentService::processPayment($token)
          â”‚
          â”œâ”€ Success? â”€â”€â”€â”€â”¬â”€ YES â†’ Update next_billing_date
          â”‚               â”‚         Send renewal confirmation
          â”‚               â”‚
          â”‚               â””â”€ NO  â†’ Retry 3 times
          â”‚                        Mark as "payment_failed"
          â”‚                        Send payment failed notification
          â”‚                        Suspend service after grace period
          â”‚
[Day 60] Repeat cycle...
```

---

### 7ï¸âƒ£ Status Flow (×ž×¢×§×‘ ×¡×˜×˜×•×¡×™×)

```
Order Status Journey:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[pending]
   â”‚
   â”‚ Payment initiated
   â–¼
[processing]  â† Initial payment successful
   â”‚
   â”‚ Queued for provisioning
   â–¼
[awaiting_provisioning]
   â”‚
   â”œâ”€ [provisioning_retrying]  â† Temporary failure
   â”‚       â”‚
   â”‚       â””â”€ Retry â†’ Success â”€â”
   â”‚                            â”‚
   â”œâ”€ [provisioning_failed]  â† Permanent failure after 5 attempts
   â”‚                            â”‚
   â–¼                            â”‚
[active]  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Provisioning successful
   â”‚
   â”‚ Service delivered
   â–¼
[completed]


Provisioning Status (parallel tracking):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[null] â†’ [queued] â†’ [in_progress] â†’ [completed]
                         â”‚
                         â””â”€â†’ [failed]
                         â””â”€â†’ [retrying]
                         â””â”€â†’ [failed_permanent]
```

---

### 8ï¸âƒ£ Webhooks & Callbacks

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Webhook Flow                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[SUMIT Gateway]                    [Your Server]
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                   â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Payment processed                       â”‚
   â”‚                                    â”‚
   â”‚ POST /officeguy/webhook/sumit      â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚ {                                  â”‚
   â”‚   "TransactionID": "...",          â”‚
   â”‚   "Status": "Success",             â”‚
   â”‚   "Amount": 100.00                 â”‚
   â”‚ }                                  â”‚
   â”‚                                    â”‚
   â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                          â”‚ SumitWebhook     â”‚
   â”‚                          â”‚ Controller       â”‚
   â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚                                    â”‚
   â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                          â”‚ Validate Signatureâ”‚
   â”‚                          â”‚ (Security check)  â”‚
   â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚                                    â”‚
   â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                          â”‚ Find Order        â”‚
   â”‚                          â”‚ (by TransactionID)â”‚
   â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚                                    â”‚
   â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                          â”‚ Update Order      â”‚
   â”‚                          â”‚ Status            â”‚
   â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚                                    â”‚
   â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                          â”‚ Dispatch Events   â”‚
   â”‚                          â”‚ PaymentConfirmed  â”‚
   â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚
   â”‚ HTTP 200 OK                        â”‚
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
```

---

## 1. × ×™×ª×•×— ×”×ž×¦×‘ ×”×§×™×™×

### 1.1 ×ž×‘× ×” ×¢×ž×•×“ ×”×¨×›×™×©×” ×”× ×•×›×—×™

#### ×§×•×‘×¥: `resources/views/pages/checkout.blade.php`

**××œ×ž× ×˜×™× ×¡×˜×˜×™×™× ×©×™×© ×œ×¢×©×•×ª ×“×™× ×ž×™×™×:**

| ××œ×ž× ×˜ | ×ž×™×§×•× (×©×•×¨×”) | ×¢×¨×š × ×•×›×—×™ | ×™×¢×“ |
|-------|--------------|-----------|-----|
| **×¦×‘×¢ ×¨××©×™** | 79, 113, 269, 270 ×•×¢×•×“ | `#3B82F6` (×›×—×•×œ) | ×“×™× ×ž×™ ×ž-`$payable->color` |
| **×¦×‘×¢ ×ž×©× ×™** | 269, 728 | `#DBEAFE`, `#EFF6FF` (×›×—×•×œ ×‘×”×™×¨) | ×“×™× ×ž×™ ×ž×—×•×©×‘ ×ž×”×¦×‘×¢ ×”×¨××©×™ |
| **×œ×•×’×•/××™×™×§×•×Ÿ** | 217-221 | ×’×¨×“×™×× ×˜ ×›×—×•×œ ×§×‘×•×¢ | ×“×™× ×ž×™ ×œ×¤×™ ×¡×•×’ ×ž×•×¦×¨ |
| **×©× ×—×‘×¨×”** | 224 | "NM-DigitalHub" | ×“×™× ×ž×™ ×ž-`$payable->brand_name` |
| **×ª×ª-×›×•×ª×¨×ª** | 225 | "Secure Payment Gateway" | ×“×™× ×ž×™ ×ž-`$payable->tagline` |
| **Trust Badges** | 183-209 | ×§×‘×•×¢ (SSL, PCI, ×›×¨×˜×™×¡×™ ××©×¨××™) | ×“×™× ×ž×™ ×œ×¤×™ ×¡×•×’ ×ž×•×¦×¨ |
| **Progress Stepper** | 107-178 | 4 ×©×œ×‘×™× ×§×‘×•×¢×™× | ×“×™× ×ž×™ ×œ×¤×™ ×ª×”×œ×™×š ×”×ž×•×¦×¨ |
| **Order Summary** | 819-863 | ×ž×‘× ×” ×§×‘×•×¢ | ×“×™× ×ž×™ ×¢× ×¤×™×¨×•×˜ ×ž×•×ª×× |

### 1.2 ×ž×•×“×œ×™× ×‘-Database

#### ×ž×•×“×œ: `MayaNetEsimProduct` (App\Models\MayaNetEsimProduct)

**×ž×™×™×©×**: `Payable` Interface âœ…

**×©×“×•×ª ×¨×œ×•×•× ×˜×™×™× ×œ×¢×ž×•×“ ×¨×›×™×©×”:**

```php
// ×©×“×•×ª ×§×™×™×ž×™× ×©× ×™×ª×Ÿ ×œ×”×©×ª×ž×© ×‘×”×:
- color              // ×¦×‘×¢ ×ª×¦×•×’×” (string) - ×›×‘×¨ ×§×™×™×! âœ…
- category           // ×§×˜×’×•×¨×™×” (string): 'local', 'regional', 'international', 'global'
- is_featured        // ×”×× ×ž×•×ž×œ×¥ (bool)
- is_popular         // ×”×× ×¤×•×¤×•×œ×¨×™ (bool)
- features           // ×ª×›×•× ×•×ª × ×•×¡×¤×•×ª (JSON array) âœ…
- metadata           // ×©×“×•×ª ×ž×•×ª××ž×™× ××™×©×™×ª (JSON) âœ…
- name               // ×©× ×”×ž×•×¦×¨
- description        // ×ª×™××•×¨
- final_price_ils    // ×ž×—×™×¨ ×¡×•×¤×™
- data_quota_mb      // ×›×ž×•×ª ×“××˜×”
- validity_days      // ×ª×§×•×¤×ª ×ª×•×§×£
- countries_enabled  // ×ž×“×™× ×•×ª × ×ª×ž×›×•×ª (JSON array)
- provider           // ×¡×¤×§: 'maya_net'
```

**×©×“×•×ª ×©×¦×¨×™×š ×œ×”×•×¡×™×£ (×—×“×©×™×):**
```php
- brand_logo         // URL ×œ×œ×•×’×• ×ž×•×ª×× (string|null)
- brand_name         // ×©× ×ž×•×ª×’ ×ž×•×ª×× (string|null) - ×‘×¨×™×¨×ª ×ž×—×“×œ: ×©× ×”×ž×•×¦×¨
- brand_tagline      // ×ª×ª-×›×•×ª×¨×ª ×ž×•×ª××ž×ª (string|null)
- checkout_theme     // ×¢×¨×›×ª × ×•×©× (JSON|null)
```

### 1.3 Payable Interface

**×§×•×‘×¥**: `src/Contracts/Payable.php`

**×ž×ª×•×“×•×ª ×§×™×™×ž×•×ª (16):**
```php
getPayableId()              // ID ×©×œ ×”×ž×•×¦×¨
getPayableAmount()          // ×¡×›×•× ×œ×ª×©×œ×•×
getPayableCurrency()        // ×ž×˜×‘×¢ (ILS)
getCustomerEmail()          // ××™×ž×™×™×œ ×œ×§×•×—
getCustomerPhone()          // ×˜×œ×¤×•×Ÿ ×œ×§×•×—
getCustomerName()           // ×©× ×œ×§×•×—
getCustomerAddress()        // ×›×ª×•×‘×ª ×œ×§×•×—
getCustomerCompany()        // ×—×‘×¨×”
getCustomerId()             // ID ×œ×§×•×—
getLineItems()              // ×¤×¨×™×˜×™ ×”×–×ž× ×”
getShippingAmount()         // ×¢×œ×•×ª ×ž×©×œ×•×—
getShippingMethod()         // ×©×™×˜×ª ×ž×©×œ×•×—
getFees()                   // ×¢×ž×œ×•×ª × ×•×¡×¤×•×ª
getVatRate()                // % ×ž×¢"×
isTaxEnabled()              // ×”×× ×ž×¢"× ×ž×•×¤×¢×œ
getCustomerNote()           // ×”×¢×¨×•×ª ×œ×§×•×—
```

**×ž×ª×•×“×•×ª ×—×“×©×•×ª ×œ×”×•×¡×¤×” (××•×¤×¦×™×•× ×œ×™ - ×¢× Trait):**
```php
getCheckoutTheme()          // ×¢×¨×›×ª × ×•×©× ×ž×œ××” (JSON)
getBrandName()              // ×©× ×ž×•×ª×’
getBrandLogo()              // ×œ×•×’×• ×ž×•×ª×’
getBrandTagline()           // ×ª×ª-×›×•×ª×¨×ª
getPrimaryColor()           // ×¦×‘×¢ ×¨××©×™ (#3B82F6)
getSecondaryColor()         // ×¦×‘×¢ ×ž×©× ×™ (×ž×—×•×©×‘ ××•×˜×•×ž×˜×™×ª)
getProductIcon()            // ××™×™×§×•×Ÿ ×ž×•×¦×¨ (SVG)
getTrustBadges()            // Trust badges ×¨×œ×•×•× ×˜×™×™×
getCheckoutSteps()          // ×©×œ×‘×™ ×¨×›×™×©×” ×ž×•×ª××ž×™×
```

---

## 2. ×”×¤×ª×¨×•×Ÿ ×”×ž×•×¦×¢

### 2.1 ×’×™×©×” ××¨×›×™×˜×§×˜×•× ×™×ª

**×¢×™×§×¨×•×Ÿ ×ž×¨×›×–×™**: ×©×ž×™×¨×” ×¢×œ ×ª××™×ž×•×ª ×œ××—×•×¨ ×•×©×™×ž×•×© ×‘×ž×‘× ×™× ×§×™×™×ž×™×

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Checkout Page (Blade)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  1. ×§×‘×œ×ª $payable (×ž×•×“×œ ×©×ž×™×™×©× Payable)              â”‚ â”‚
â”‚  â”‚  2. ×§×¨×™××” ×œ×©×“×•×ª ×“×™× ×ž×™×™×: color, metadata, features   â”‚ â”‚
â”‚  â”‚  3. Trait ×—×“×©: HasCheckoutTheme (××•×¤×¦×™×•× ×œ×™)          â”‚ â”‚
â”‚  â”‚  4. Fallback ×œ×‘×¨×™×¨×•×ª ×ž×—×“×œ ×× ××™×Ÿ ×¢×¨×›×™× ×ž×•×ª××ž×™×       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MayaNetEsimProduct (Model)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  implements Payable                                    â”‚ â”‚
â”‚  â”‚  uses HasCheckoutTheme (Trait ×—×“×©)                    â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  ×©×“×•×ª ×§×™×™×ž×™×:                                         â”‚ â”‚
â”‚  â”‚  - color (×¦×‘×¢ ×¨××©×™) âœ…                                â”‚ â”‚
â”‚  â”‚  - metadata (JSON) âœ…                                  â”‚ â”‚
â”‚  â”‚  - features (JSON) âœ…                                  â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  ×©×“×•×ª ×—×“×©×™× (×œ×”×•×¡×™×£):                                â”‚ â”‚
â”‚  â”‚  - brand_logo (string|null)                            â”‚ â”‚
â”‚  â”‚  - brand_name (string|null)                            â”‚ â”‚
â”‚  â”‚  - brand_tagline (string|null)                         â”‚ â”‚
â”‚  â”‚  - checkout_theme (JSON|null)                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ×©×›×‘×•×ª ×”×¤×ª×¨×•×Ÿ

#### ×©×›×‘×” 1: ×©×“×•×ª ×—×“×©×™× ×‘×ž×•×“×œ (Migration)
```php
Schema::table('maya_net_esim_products', function (Blueprint $table) {
    $table->string('brand_logo')->nullable();      // URL ×œ×œ×•×’×• ×ž×•×ª××
    $table->string('brand_name')->nullable();      // ×©× ×ž×•×ª×’ ×ž×•×ª××
    $table->string('brand_tagline')->nullable();   // ×ª×ª-×›×•×ª×¨×ª
    $table->json('checkout_theme')->nullable();    // ×¢×¨×›×ª × ×•×©× ×ž×œ××”
});
```

#### ×©×›×‘×” 2: Trait ×—×“×© (HasCheckoutTheme)
```php
// src/Support/Traits/HasCheckoutTheme.php
trait HasCheckoutTheme
{
    /**
     * Get primary color with fallback
     */
    public function getPrimaryColor(): string
    {
        return $this->color ?? '#3B82F6';
    }

    /**
     * Get secondary color (lighter shade of primary)
     */
    public function getSecondaryColor(): string
    {
        $primary = $this->getPrimaryColor();
        return $this->lightenColor($primary, 40);
    }

    /**
     * Get brand name with fallback to product name
     */
    public function getBrandName(): string
    {
        return $this->brand_name ?? $this->name ?? 'Payment Gateway';
    }

    /**
     * Get brand logo URL
     */
    public function getBrandLogo(): ?string
    {
        return $this->brand_logo;
    }

    /**
     * Get brand tagline
     */
    public function getBrandTagline(): string
    {
        return $this->brand_tagline ?? 'Secure Payment Gateway';
    }

    /**
     * Get full checkout theme configuration
     */
    public function getCheckoutTheme(): array
    {
        $custom = is_string($this->checkout_theme)
            ? json_decode($this->checkout_theme, true)
            : ($this->checkout_theme ?? []);

        return array_merge($this->getDefaultTheme(), $custom);
    }

    /**
     * Get default theme configuration
     */
    protected function getDefaultTheme(): array
    {
        return [
            'colors' => [
                'primary' => $this->getPrimaryColor(),
                'secondary' => $this->getSecondaryColor(),
            ],
            'branding' => [
                'name' => $this->getBrandName(),
                'logo' => $this->getBrandLogo(),
                'tagline' => $this->getBrandTagline(),
            ],
            'trust_badges' => $this->getTrustBadges(),
            'progress_steps' => $this->getProgressSteps(),
        ];
    }

    /**
     * Get trust badges based on product type
     */
    protected function getTrustBadges(): array
    {
        return [
            ['icon' => 'lock', 'text' => 'SSL Encrypted'],
            ['icon' => 'check-circle', 'text' => 'PCI DSS Compliant'],
            ['icon' => 'cards', 'text' => 'VISA / MC / AMEX'],
        ];
    }

    /**
     * Get progress steps
     */
    protected function getProgressSteps(): array
    {
        return [
            ['number' => 1, 'label' => 'Customer'],
            ['number' => 2, 'label' => 'Payment'],
            ['number' => 3, 'label' => 'Terms'],
            ['number' => 4, 'label' => 'Submit'],
        ];
    }

    /**
     * Lighten a hex color by a percentage
     */
    private function lightenColor(string $hex, int $percent): string
    {
        $hex = ltrim($hex, '#');
        $r = hexdec(substr($hex, 0, 2));
        $g = hexdec(substr($hex, 2, 2));
        $b = hexdec(substr($hex, 4, 2));

        $r = min(255, $r + (255 - $r) * $percent / 100);
        $g = min(255, $g + (255 - $g) * $percent / 100);
        $b = min(255, $b + (255 - $b) * $percent / 100);

        return sprintf('#%02X%02X%02X', $r, $g, $b);
    }
}
```

#### ×©×›×‘×” 3: ×¢×“×›×•×Ÿ ×ž×•×“×œ MayaNetEsimProduct
```php
// app/Models/MayaNetEsimProduct.php

use OfficeGuy\LaravelSumitGateway\Support\Traits\HasCheckoutTheme;

class MayaNetEsimProduct extends Model implements Payable
{
    use SoftDeletes, HasCheckoutTheme; // â† ×”×•×¡×¤×ª Trait ×—×“×©

    protected $fillable = [
        // ... existing fields
        'brand_logo',
        'brand_name',
        'brand_tagline',
        'checkout_theme',
    ];

    protected $casts = [
        // ... existing casts
        'checkout_theme' => 'array',
    ];
}
```

#### ×©×›×‘×” 4: ×¢×“×›×•×Ÿ Blade Template

**×§×•×‘×¥**: `resources/views/pages/checkout.blade.php`

**×©×™× ×•×™×™× ×ž×¨×›×–×™×™×:**

```blade
@php
    // ×§×‘×œ×ª ×¢×¨×›×ª × ×•×©× ×ž×”×ž×•×¦×¨ (×¢× fallback ×œ×‘×¨×™×¨×ª ×ž×—×“×œ)
    $theme = method_exists($payable, 'getCheckoutTheme')
        ? $payable->getCheckoutTheme()
        : [
            'colors' => [
                'primary' => $payable->color ?? '#3B82F6',
                'secondary' => '#DBEAFE',
            ],
            'branding' => [
                'name' => $payable->brand_name ?? $payable->name ?? 'Payment Gateway',
                'logo' => $payable->brand_logo ?? null,
                'tagline' => $payable->brand_tagline ?? 'Secure Payment Gateway',
            ],
            'trust_badges' => [
                ['icon' => 'lock', 'text' => __('SSL Encrypted')],
                ['icon' => 'check-circle', 'text' => __('PCI DSS Compliant')],
                ['icon' => 'cards', 'text' => 'VISA / MC / AMEX'],
            ],
            'progress_steps' => [
                ['number' => 1, 'label' => __('Customer')],
                ['number' => 2, 'label' => __('Payment')],
                ['number' => 3, 'label' => __('Terms')],
                ['number' => 4, 'label' => __('Submit')],
            ],
        ];

    $primaryColor = $theme['colors']['primary'];
    $secondaryColor = $theme['colors']['secondary'];
    $brandName = $theme['branding']['name'];
    $brandLogo = $theme['branding']['logo'];
    $brandTagline = $theme['branding']['tagline'];
    $trustBadges = $theme['trust_badges'];
    $progressSteps = $theme['progress_steps'];
@endphp

{{-- Dynamic CSS Variables --}}
<style>
    :root {
        --primary-color: {{ $primaryColor }};
        --secondary-color: {{ $secondaryColor }};
    }

    /* Replace all #3B82F6 with var(--primary-color) */
    *:focus-visible {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
    }

    /* ... and so on for all color references ... */
</style>

{{-- Dynamic Logo --}}
<div class="mb-6">
    <div class="inline-flex items-center justify-center gap-3 bg-white px-6 py-4 rounded-2xl shadow-sm">
        @if($brandLogo)
            <img src="{{ $brandLogo }}" alt="{{ $brandName }}" class="w-10 h-10">
        @else
            <div class="flex items-center justify-center w-10 h-10 bg-gradient-to-br from-[var(--primary-color)] to-[var(--primary-color)] rounded-xl shadow-lg">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
            </div>
        @endif
        <div class="{{ $rtl ? 'text-right' : 'text-left' }}">
            <h2 class="text-lg font-bold text-[#111928] leading-tight">{{ $brandName }}</h2>
            <p class="text-xs text-[#8890B1]">{{ $brandTagline }}</p>
        </div>
    </div>
</div>

{{-- Dynamic Trust Badges --}}
<div class="flex flex-wrap items-center justify-center gap-2 sm:gap-3 mb-6">
    @foreach($trustBadges as $badge)
    <div class="flex items-center gap-2 bg-white px-3 py-2 rounded-full shadow-sm">
        {{-- Icon based on badge.icon --}}
        <span class="text-xs sm:text-sm text-gray-600 font-medium">{{ $badge['text'] }}</span>
    </div>
    @endforeach
</div>

{{-- Dynamic Progress Steps --}}
<nav aria-label="Checkout progress" class="bg-white rounded-2xl shadow-sm p-4 sm:p-6 mb-6">
    <ol class="flex items-center justify-center" role="list">
        @foreach($progressSteps as $index => $step)
            {{-- Render step dynamically --}}
            <li class="flex flex-col items-center gap-2">
                <div class="size-11 sm:size-12 rounded-full {{ $currentStep >= $step['number'] ? 'bg-[var(--primary-color)] text-white' : 'border-2 border-gray-300 text-gray-400' }}">
                    {{ $step['number'] }}
                </div>
                <span class="{{ $currentStep >= $step['number'] ? 'font-medium text-[var(--primary-color)]' : 'text-gray-400' }}">
                    {{ $step['label'] }}
                </span>
            </li>
            @if(!$loop->last)
                <div class="w-8 sm:w-12 md:w-20 h-0.5 {{ $currentStep > $step['number'] ? 'bg-[var(--primary-color)]' : 'bg-gray-200' }} mx-1 sm:mx-2"></div>
            @endif
        @endforeach
    </ol>
</nav>
```

---

## 3. ×ª×•×›× ×™×ª ×¢×‘×•×“×” ×ž×¤×•×¨×˜×ª

### ×©×œ×‘ 1: ×”×›× ×ª ×”×ª×©×ª×™×ª (1-2 ×©×¢×•×ª)

#### ×ž×©×™×ž×” 1.1: ×™×¦×™×¨×ª Migration
```bash
php artisan make:migration add_checkout_theme_fields_to_maya_net_esim_products --table=maya_net_esim_products
```

**×§×•×‘×¥**: `database/migrations/YYYY_MM_DD_HHMMSS_add_checkout_theme_fields_to_maya_net_esim_products.php`

```php
public function up()
{
    Schema::table('maya_net_esim_products', function (Blueprint $table) {
        $table->string('brand_logo')->nullable()->after('color');
        $table->string('brand_name')->nullable()->after('brand_logo');
        $table->string('brand_tagline')->nullable()->after('brand_name');
        $table->json('checkout_theme')->nullable()->after('brand_tagline');
    });
}

public function down()
{
    Schema::table('maya_net_esim_products', function (Blueprint $table) {
        $table->dropColumn(['brand_logo', 'brand_name', 'brand_tagline', 'checkout_theme']);
    });
}
```

#### ×ž×©×™×ž×” 1.2: ×™×¦×™×¨×ª Trait HasCheckoutTheme

**×§×•×‘×¥**: `SUMIT-Payment-Gateway-for-laravel/src/Support/Traits/HasCheckoutTheme.php`

(×”×§×•×“ ×”×ž×œ× ×œ×¢×™×œ ×‘×©×›×‘×” 2)

#### ×ž×©×™×ž×” 1.3: ×¨×™×©×•× Trait ×‘-Service Provider

**×§×•×‘×¥**: `src/OfficeGuyServiceProvider.php`

××™×Ÿ ×¦×•×¨×š ×‘×©×™× ×•×™ - ×”-Trait × ×¨×©× ××•×˜×•×ž×˜×™×ª ×‘×ž×•×“×œ×™× ×©×ž×©×ª×ž×©×™× ×‘×•.

---

### ×©×œ×‘ 2: ×¢×“×›×•×Ÿ ×ž×•×“×œ MayaNetEsimProduct (30 ×“×§×•×ª)

#### ×ž×©×™×ž×” 2.1: ×”×•×¡×¤×ª Trait ×œ×ž×•×“×œ

**×§×•×‘×¥**: `app/Models/MayaNetEsimProduct.php`

```php
use OfficeGuy\LaravelSumitGateway\Support\Traits\HasCheckoutTheme;

class MayaNetEsimProduct extends Model implements Payable
{
    use SoftDeletes, HasCheckoutTheme; // â† ×”×•×¡×¤×” ×›××Ÿ

    protected $fillable = [
        // ... existing ...
        'brand_logo',
        'brand_name',
        'brand_tagline',
        'checkout_theme',
    ];

    protected $casts = [
        // ... existing ...
        'checkout_theme' => 'array',
    ];
}
```

---

### ×©×œ×‘ 3: ×¢×“×›×•×Ÿ Blade Template (2-3 ×©×¢×•×ª)

#### ×ž×©×™×ž×” 3.1: ×”×’×“×¨×ª ×ž×©×ª× ×™ Theme

**×§×•×‘×¥**: `resources/views/pages/checkout.blade.php`

**×ž×™×§×•×**: ×œ×¤× ×™ ×”×ª×—×œ×ª ×”-HTML (×©×•×¨×” 1-45)

```blade
@php
    // ... existing variables ...

    // ========== DYNAMIC CHECKOUT THEME (NEW) ==========
    $theme = method_exists($payable, 'getCheckoutTheme')
        ? $payable->getCheckoutTheme()
        : [
            'colors' => [
                'primary' => $payable->color ?? '#3B82F6',
                'secondary' => '#DBEAFE',
            ],
            'branding' => [
                'name' => $payable->brand_name ?? $payable->name ?? 'Payment Gateway',
                'logo' => $payable->brand_logo ?? null,
                'tagline' => $payable->brand_tagline ?? 'Secure Payment Gateway',
            ],
            'trust_badges' => [
                ['icon' => 'lock', 'text' => __('SSL Encrypted')],
                ['icon' => 'check-circle', 'text' => __('PCI DSS Compliant')],
                ['icon' => 'cards', 'text' => 'VISA / MC / AMEX'],
            ],
            'progress_steps' => [
                ['number' => 1, 'label' => __('Customer')],
                ['number' => 2, 'label' => __('Payment')],
                ['number' => 3, 'label' => __('Terms')],
                ['number' => 4, 'label' => __('Submit')],
            ],
        ];

    $primaryColor = $theme['colors']['primary'];
    $secondaryColor = $theme['colors']['secondary'];
    $brandName = $theme['branding']['name'];
    $brandLogo = $theme['branding']['logo'];
    $brandTagline = $theme['branding']['tagline'];
    $trustBadges = $theme['trust_badges'];
    $progressSteps = $theme['progress_steps'];
@endphp
```

#### ×ž×©×™×ž×” 3.2: ×”×•×¡×¤×ª CSS Variables

**×ž×™×§×•×**: ×‘×ª×•×š `<style>` (×©×•×¨×” 70-96)

```blade
<style>
    [x-cloak] { display: none !important; }

    body {
        font-family: 'Heebo', sans-serif;
    }

    /* ========== DYNAMIC CSS VARIABLES (NEW) ========== */
    :root {
        --primary-color: {{ $primaryColor }};
        --secondary-color: {{ $secondaryColor }};
        --primary-hover: {{ method_exists($payable, 'lightenColor') ? $payable->lightenColor($primaryColor, -10) : '#2563EB' }};
    }

    /* Custom Focus Ring - Now uses CSS variable */
    *:focus-visible {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
    }

    /* ... rest of existing styles ... */
</style>
```

#### ×ž×©×™×ž×” 3.3: ×”×—×œ×¤×ª ×›×œ ×”×¦×‘×¢×™× ×”×§×‘×•×¢×™× ×‘-CSS Variables

**×¨×©×™×ž×ª ×”×—×œ×¤×•×ª × ×“×¨×©×•×ª:**

| ×¦×‘×¢ ×§×‘×•×¢ (Before) | CSS Variable (After) | ×ž×™×§×•× (×“×•×’×ž×”) |
|------------------|---------------------|---------------|
| `#3B82F6` | `var(--primary-color)` | ×©×•×¨×” 79, 113, 188, 195 ×•×¢×•×“ |
| `#2563EB` | `var(--primary-hover)` | ×©×•×¨×” 669 |
| `#DBEAFE` | `var(--secondary-color)` | ×©×•×¨×” 269, 336, 420 |
| `#EFF6FF` | `var(--secondary-color)` | ×©×•×¨×” 232, 269 |

**×“×•×’×ž×” (×©×•×¨×” 113):**
```blade
{{-- Before --}}
<div class="size-11 sm:size-12 rounded-full border-2 {{ $currentStep >= 4 ? 'bg-[#3B82F6] border-[#3B82F6] text-white' : 'border-gray-300 text-gray-400' }}">

{{-- After --}}
<div class="size-11 sm:size-12 rounded-full border-2 {{ $currentStep >= 4 ? 'bg-[var(--primary-color)] border-[var(--primary-color)] text-white' : 'border-gray-300 text-gray-400' }}">
```

**×©×™×ž×• ×œ×‘**: ×™×© ×œ×”×—×œ×™×£ ×‘×›×œ ×”×ž×•×¤×¢×™× ×©×œ ×”×¦×‘×¢×™× ×”×œ×œ×• ×‘×›×œ ×”×§×•×‘×¥ (×›-50+ ×ž×•×¤×¢×™×).

#### ×ž×©×™×ž×” 3.4: ×¢×“×›×•×Ÿ ×¡×§×¦×™×™×ª ×”×œ×•×’×•

**×ž×™×§×•×**: ×©×•×¨×” 211-238

```blade
{{-- ========== DYNAMIC BRANDING (UPDATED) ========== --}}
<div class="mb-6">
    <div class="inline-flex items-center justify-center gap-3 bg-white px-6 py-4 rounded-2xl shadow-sm">
        {{-- Logo Icon --}}
        @if($brandLogo)
            {{-- Custom uploaded logo --}}
            <img src="{{ $brandLogo }}" alt="{{ $brandName }}" class="w-10 h-10 object-contain">
        @else
            {{-- Default icon with dynamic color --}}
            <div class="flex items-center justify-center w-10 h-10 bg-gradient-to-br from-[var(--primary-color)] to-[var(--primary-hover)] rounded-xl shadow-lg shadow-[var(--primary-color)]/25">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
            </div>
        @endif
        {{-- Brand Name --}}
        <div class="{{ $rtl ? 'text-right' : 'text-left' }}">
            <h2 class="text-lg font-bold text-[#111928] leading-tight">{{ $brandName }}</h2>
            <p class="text-xs text-[#8890B1]">{{ $brandTagline }}</p>
        </div>
    </div>
</div>
```

#### ×ž×©×™×ž×” 3.5: ×¢×“×›×•×Ÿ Trust Badges (×“×™× ×ž×™)

**×ž×™×§×•×**: ×©×•×¨×” 180-209

```blade
{{-- ========== DYNAMIC TRUST BADGES (UPDATED) ========== --}}
<div class="flex flex-wrap items-center justify-center gap-2 sm:gap-3 mb-6" role="list" aria-label="Security features">
    @foreach($trustBadges as $badge)
    <div class="flex items-center gap-2 bg-white px-3 py-2 rounded-full shadow-sm hover:shadow-md transition-shadow duration-200" role="listitem">
        @if($badge['icon'] === 'lock')
            <svg class="size-4 text-[var(--primary-color)] shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
            </svg>
        @elseif($badge['icon'] === 'check-circle')
            <svg class="size-4 text-[var(--primary-color)] shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
        @elseif($badge['icon'] === 'cards')
            <span class="text-blue-700 font-bold text-xs">VISA</span>
            <span class="text-orange-500 font-bold text-xs">MC</span>
            <span class="text-blue-500 font-bold text-xs">AMEX</span>
        @else
            {{-- Custom icon - fallback --}}
            <svg class="size-4 text-[var(--primary-color)] shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
            </svg>
        @endif
        <span class="text-xs sm:text-sm text-gray-600 font-medium">{{ $badge['text'] }}</span>
    </div>
    @endforeach

    {{-- Bit Badge (if enabled) --}}
    @if($bitEnabled)
    <div class="flex items-center gap-2 bg-white px-3 py-2 rounded-full shadow-sm hover:shadow-md transition-shadow duration-200" role="listitem">
        <span class="text-blue-600 font-bold text-sm">Bit</span>
    </div>
    @endif
</div>
```

#### ×ž×©×™×ž×” 3.6: ×¢×“×›×•×Ÿ Progress Stepper (×“×™× ×ž×™)

**×ž×™×§×•×**: ×©×•×¨×” 105-178

```blade
{{-- ========== DYNAMIC PROGRESS STEPPER (UPDATED) ========== --}}
<nav aria-label="Checkout progress" class="bg-white rounded-2xl shadow-sm p-4 sm:p-6 mb-6">
    <ol class="flex items-center justify-center" role="list">
        @foreach($progressSteps as $index => $step)
            @if(!$loop->first && $rtl)
                <div class="w-8 sm:w-12 md:w-20 h-0.5 {{ $currentStep >= $step['number'] ? 'bg-[var(--primary-color)]' : 'bg-gray-200' }} mx-1 sm:mx-2 transition-colors duration-200"></div>
            @endif

            <li class="flex flex-col items-center gap-2" aria-current="{{ $currentStep === $step['number'] ? 'step' : 'false' }}">
                <div class="size-11 sm:size-12 rounded-full {{ $currentStep >= $step['number'] ? 'bg-[var(--primary-color)] text-white' : 'border-2 border-gray-300 text-gray-400' }} flex items-center justify-center text-sm font-medium transition-all duration-300">
                    {{ $step['number'] }}
                </div>
                <span class="text-xs sm:text-sm {{ $currentStep >= $step['number'] ? 'font-medium text-[var(--primary-color)]' : 'text-gray-400' }} transition-all duration-300">
                    {{ $step['label'] }}
                </span>
            </li>

            @if(!$loop->last && !$rtl)
                <div class="w-8 sm:w-12 md:w-20 h-0.5 {{ $currentStep >= $step['number'] ? 'bg-[var(--primary-color)]' : 'bg-gray-200' }} mx-1 sm:mx-2 transition-colors duration-200"></div>
            @endif
        @endforeach
    </ol>
    <p class="text-center text-xs sm:text-sm text-gray-400 mt-3 sm:mt-4" role="status" aria-live="polite">
        {{ __('Step :current of :total', ['current' => $currentStep, 'total' => count($progressSteps)]) }}
    </p>
</nav>
```

---

### ×©×œ×‘ 4: ×‘×“×™×§×•×ª (1 ×©×¢×”)

#### ×ž×©×™×ž×” 4.1: ×™×¦×™×¨×ª ×ž×•×¦×¨ ×‘×“×™×§×” ×¢× ×¢×¨×›×ª × ×•×©× ×ž×•×ª××ž×ª

```php
// Via Tinker or Seeder
$product = MayaNetEsimProduct::first();
$product->update([
    'color' => '#10B981', // ×™×¨×•×§ ×‘×ž×§×•× ×›×—×•×œ
    'brand_name' => 'Maya eSIM',
    'brand_tagline' => 'Global Connectivity',
    'checkout_theme' => [
        'trust_badges' => [
            ['icon' => 'lock', 'text' => 'SSL Encrypted'],
            ['icon' => 'check-circle', 'text' => 'Instant Delivery'],
            ['icon' => 'cards', 'text' => 'All Credit Cards'],
        ],
    ],
]);
```

#### ×ž×©×™×ž×” 4.2: ×‘×“×™×§×” ×‘×“×¤×“×¤×Ÿ

1. × ×•×•×˜ ×œ: `https://yourdomain.com/officeguy/checkout/{product-id}`
2. ×•×“× ×©×”×¦×‘×¢×™× ×”×©×ª× ×• ×œ-#10B981 (×™×¨×•×§)
3. ×•×“× ×©×”-branding ×ž×¦×™×’ "Maya eSIM"
4. ×‘×“×•×§ responsive design (mobile, tablet, desktop)
5. ×‘×“×•×§ RTL/LTR switching
6. ×‘×“×•×§ ×©×›×œ ×”××™× ×˜×¨××§×¦×™×•×ª ×¢×•×‘×“×•×ª (×˜×¤×¡×™×, validation, submit)

#### ×ž×©×™×ž×” 4.3: ×‘×“×™×§×ª Fallback

```php
// Create product without custom theme
$product2 = MayaNetEsimProduct::create([
    'name' => 'Test Product',
    'price_ils' => 100,
    'final_price_ils' => 120,
    // No color, brand_name, etc.
]);
```

**×•×“×**:
- ×‘×¨×™×¨×•×ª ×ž×—×“×œ ×¢×•×‘×“×•×ª (×›×—×•×œ, "Payment Gateway")
- ××™×Ÿ ×©×’×™××•×ª JavaScript/PHP
- ×”×¢×ž×•×“ × ×˜×¢×Ÿ ×ª×§×™×Ÿ

---

### ×©×œ×‘ 5: ×ª×™×¢×•×“ (30 ×“×§×•×ª)

#### ×ž×©×™×ž×” 5.1: ×¢×“×›×•×Ÿ CLAUDE.md

**×§×•×‘×¥**: `SUMIT-Payment-Gateway-for-laravel/CLAUDE.md`

×”×•×¡×¤×” ×‘×¡×•×£ ×”×§×•×‘×¥:

```markdown
## ðŸŽ¨ Checkout Theme Customization (v1.16.0+)

### Overview
The checkout page is now fully modular and dynamically adapts to the product being purchased.

### Customizable Elements
- **Colors**: Primary and secondary colors
- **Branding**: Logo, brand name, tagline
- **Trust Badges**: Custom security/feature badges
- **Progress Steps**: Custom checkout flow steps

### Usage

#### 1. Using Existing Fields (Quick)
```php
$product->update([
    'color' => '#10B981', // Changes entire color scheme
    'brand_name' => 'My Brand',
]);
```

#### 2. Full Theme Customization
```php
$product->update([
    'checkout_theme' => [
        'colors' => [
            'primary' => '#10B981',
            'secondary' => '#D1FAE5',
        ],
        'branding' => [
            'name' => 'My eSIM Brand',
            'logo' => '/images/logo.png',
            'tagline' => 'Connect Globally',
        ],
        'trust_badges' => [
            ['icon' => 'lock', 'text' => 'Secure'],
            ['icon' => 'check-circle', 'text' => 'Instant'],
        ],
        'progress_steps' => [
            ['number' => 1, 'label' => 'Details'],
            ['number' => 2, 'label' => 'Payment'],
            ['number' => 3, 'label' => 'Confirm'],
        ],
    ],
]);
```

#### 3. Using HasCheckoutTheme Trait Methods
```php
$product->getPrimaryColor();       // Returns color with fallback
$product->getSecondaryColor();     // Auto-calculated lighter shade
$product->getBrandName();          // Returns brand_name or name
$product->getCheckoutTheme();      // Returns full theme array
```

### Available Icons for Trust Badges
- `lock` - Lock/Security icon
- `check-circle` - Check/Verified icon
- `cards` - Credit card brands
- Custom icons can be added in the Blade template

### Fallback Behavior
If no custom theme is set, the checkout page falls back to:
- **Primary Color**: `#3B82F6` (Blue)
- **Brand Name**: Product name or "Payment Gateway"
- **Tagline**: "Secure Payment Gateway"
- **Default trust badges and progress steps**
```

#### ×ž×©×™×ž×” 5.2: ×¢×“×›×•×Ÿ CHANGELOG.md

```markdown
## [v1.16.0] - 2025-12-09

### Added
- **Modular Checkout Theme System** (#NEW)
  - Dynamic color scheme based on product `color` field
  - Customizable branding (logo, name, tagline)
  - Configurable trust badges
  - Flexible progress steps
  - New trait: `HasCheckoutTheme` for theme management
  - New migration: Add checkout theme fields to products

### Changed
- Checkout page now uses CSS variables for colors
- All hardcoded colors (#3B82F6) replaced with dynamic values
- Branding section now uses product-specific data

### Migration Required
```bash
php artisan migrate
```

### Backward Compatibility
âœ… Fully backward compatible - existing checkouts work without changes
```

---

## 4. ×“×•×’×ž××•×ª ×©×™×ž×•×©

### ×“×•×’×ž×” 1: ×¢×“×›×•×Ÿ ×¦×‘×¢ ×¤×©×•×˜

```php
use App\Models\MayaNetEsimProduct;

$product = MayaNetEsimProduct::find(1);
$product->update(['color' => '#10B981']); // ×™×¨×•×§

// ×”×ª×•×¦××”: ×›×œ ×¢×ž×•×“ ×”×¨×›×™×©×” ×™×”×™×” ×‘×’×•×•× ×™× ×©×œ ×™×¨×•×§
```

### ×“×•×’×ž×” 2: ×”×ª××ž×” ×ž×œ××” ×œ×ž×•×ª×’

```php
$product->update([
    'color' => '#8B5CF6', // ×¡×’×•×œ
    'brand_name' => 'GlobalSIM',
    'brand_logo' => 'https://example.com/logo.png',
    'brand_tagline' => 'Stay Connected Worldwide',
    'checkout_theme' => [
        'trust_badges' => [
            ['icon' => 'lock', 'text' => '256-bit SSL'],
            ['icon' => 'check-circle', 'text' => 'Instant Activation'],
            ['icon' => 'cards', 'text' => 'All Cards Accepted'],
            ['icon' => 'custom', 'text' => '24/7 Support'],
        ],
        'progress_steps' => [
            ['number' => 1, 'label' => 'Info'],
            ['number' => 2, 'label' => 'Pay'],
            ['number' => 3, 'label' => 'Done'],
        ],
    ],
]);
```

### ×“×•×’×ž×” 3: ×©×™×ž×•×© ×‘-Trait ×‘×ž×•×“×œ ××—×¨

```php
use OfficeGuy\LaravelSumitGateway\Support\Traits\HasCheckoutTheme;
use OfficeGuy\LaravelSumitGateway\Contracts\Payable;

class CustomProduct extends Model implements Payable
{
    use HasCheckoutTheme;

    // ×”×›×œ ×™×¢×‘×•×“ ××•×˜×•×ž×˜×™×ª!
}
```

---

## 5. ×™×ª×¨×•× ×•×ª ×”×¤×ª×¨×•×Ÿ

### âœ… ×ª××™×ž×•×ª ×œ××—×•×¨ ×ž×œ××”
- ×ž×•×¦×¨×™× ×§×™×™×ž×™× ×™×ž×©×™×›×• ×œ×¢×‘×•×“ ×‘×“×™×•×§ ×›×ž×• ×§×•×“×
- ××™×Ÿ ×©×™× ×•×™×™× ×©×•×‘×¨×™× (breaking changes)
- Fallback ××•×˜×•×ž×˜×™ ×œ×¢×¨×›×™ ×‘×¨×™×¨×ª ×ž×—×“×œ

### âœ… ×ž×•×“×•×œ×¨×™×•×ª ×’×‘×•×”×”
- ×›×œ ×ž×•×¦×¨ ×™×›×•×œ ×œ×”×™×•×ª ×¢× ×¢×™×¦×•×‘ ×©×•× ×” ×œ×—×œ×•×˜×™×Ÿ
- ×§×œ ×œ×”×•×¡×™×£ ×©×“×•×ª × ×•×¡×¤×™× ×‘×¢×ª×™×“
- × ×™×ª×Ÿ ×œ×”×¨×—×‘×” ×œ×œ× ×©×™× ×•×™ ×”×§×•×“ ×”×§×™×™×

### âœ… ×§×œ ×œ×©×™×ž×•×©
- ×ž×¤×ª×—×™× ×™×›×•×œ×™× ×œ×¢×“×›×Ÿ ×¨×§ ××ª ×”×©×“×” `color` ×•×œ×§×‘×œ ×ª×•×¦××” ×ž×™×™×“×™×ª
- ×¢×™×¦×•×‘ ×ž×ª×§×“× ×“×•×¨×© ×¨×§ ×¢×“×›×•×Ÿ ×‘-`checkout_theme`
- Trait ×ž×¡×¤×§ ×ž×ª×•×“×•×ª × ×•×—×•×ª

### âœ… ×‘×™×¦×•×¢×™× ×ž×¦×•×™× ×™×
- ××™×Ÿ queries × ×•×¡×¤×™× ×œ-DB
- ×›×œ ×”×ž×™×“×¢ × ×˜×¢×Ÿ ×‘×©×œ×™×¤×” ××—×ª ×©×œ ×”×ž×•×¦×¨
- CSS Variables ×ž××¤×©×¨×™× ×©×™× ×•×™×™× ×ž×”×™×¨×™×

---

## 6. ×¡×™×›×•× ×™× ×•×”×ª×ž×•×“×“×•×ª

### ×¡×™×›×•×Ÿ 1: ×”×ª××ž×” ×•×™×–×•××œ×™×ª ×œ× ×ž×•×¦×œ×—×ª
**×¡×™×›×•×Ÿ**: ×ž×©×ª×ž×© ×¢×©×•×™ ×œ×‘×—×•×¨ ×¦×‘×¢×™× ×©×œ× ×ž×ª××™×ž×™× (contrast × ×ž×•×š)

**×¤×ª×¨×•×Ÿ**:
- Validation ×¢×œ ×©×“×” `color` (×¨×§ Hex colors ×ª×§×™× ×™×)
- × ×™×ª×Ÿ ×œ×”×•×¡×™×£ ×‘×¢×ª×™×“: checker ××•×˜×•×ž×˜×™ ×œ× ×™×’×•×“×™×•×ª (WCAG AA)
- ×“×•×’×ž××•×ª ×ž×•×›× ×•×ª ×‘×ª×™×¢×•×“

### ×¡×™×›×•×Ÿ 2: ×©×“×•×ª ×—×¡×¨×™× ×‘×ž×•×¦×¨×™× ×™×©× ×™×
**×¡×™×›×•×Ÿ**: ×ž×•×¦×¨×™× ×©× ×•×¦×¨×• ×œ×¤× ×™ ×”×”×•×¡×¤×” ×œ× ×™×”×™×• ×¢× ×”×©×“×•×ª ×”×—×“×©×™×

**×¤×ª×¨×•×Ÿ**:
- Fallback ×ž×•×‘× ×” ×‘×›×œ ×ž×§×•×
- `method_exists()` checks ×œ×ž× ×™×¢×ª ×©×’×™××•×ª
- Migration ××•×¤×¦×™×•× ×œ×™×ª (××¤×©×¨ ×œ×¨×•×¥ ××•×ª×” ×ž××•×—×¨ ×™×•×ª×¨)

### ×¡×™×›×•×Ÿ 3: Breaking Changes ×‘×¢×ª×™×“
**×¡×™×›×•×Ÿ**: ×©×™× ×•×™×™× ×¢×ª×™×“×™×™× ×‘-Blade template ×¢×œ×•×œ×™× ×œ×©×‘×•×¨ customizations

**×¤×ª×¨×•×Ÿ**:
- ×©×™×ž×•×© ×‘-CSS Variables ×ž××¤×©×¨ ×©×™× ×•×™×™× ×œ×œ× × ×’×™×¢×” ×‘-Blade
- Versioning ×©×œ `checkout_theme` schema
- ×ª×™×¢×•×“ ×ž×¤×•×¨×˜ ×©×œ ×”×ž×‘× ×”

---

## 7. ×©××œ×•×ª ×•×ª×©×•×‘×•×ª

### ×©: ×”×× ×–×” ×™×©×‘×•×¨ ×ž×•×¦×¨×™× ×§×™×™×ž×™×?
**×ª**: ×œ×. ×›×œ ×”×ž×•×¦×¨×™× ×”×§×™×™×ž×™× ×™×ž×©×™×›×• ×œ×¢×‘×•×“ ×¢× ×‘×¨×™×¨×•×ª ×ž×—×“×œ ×–×”×•×ª ×œ×ž×” ×©×”×™×” ×§×•×“×.

### ×©: ×”×× ×¦×¨×™×š ×œ×”×¨×™×¥ migration?
**×ª**: ×›×Ÿ, ××‘×œ ×–×” ×œ× ×—×•×‘×” ×ž×™×™×“×™×ª. ×”×ž×¢×¨×›×ª ×ª×¢×‘×•×“ ×’× ×‘×œ×™ ×”×©×“×•×ª ×”×—×“×©×™× ×‘×–×›×•×ª Fallback.

### ×©: ××™×š ×× ×™ ×ž×©× ×” ×¨×§ ××ª ×”×¦×‘×¢?
**×ª**: `$product->update(['color' => '#YOUR_COLOR']);`

### ×©: ××™×š ×× ×™ ×ž×—×–×™×¨ ×œ×‘×¨×™×¨×ª ×ž×—×“×œ?
**×ª**: `$product->update(['color' => null, 'checkout_theme' => null]);`

### ×©: ×”×× × ×™×ª×Ÿ ×œ×”×•×¡×™×£ ×œ×•×’×• ×“×™× ×ž×™?
**×ª**: ×›×Ÿ. `$product->update(['brand_logo' => 'https://example.com/logo.png']);`

### ×©: ××™×š ×× ×™ ×‘×•×“×§ ××ª ×”-theme ×œ×¤× ×™ deployment?
**×ª**: ×”×©×ª×ž×© ×‘-Tinker ××• ×¦×•×¨ ×¡×‘×™×‘×ª staging ×¢× ×ž×•×¦×¨ ×‘×“×™×§×”.

---

## 8. ××™× ×˜×’×¨×¦×™×”: Checkout Modular + Payment Flow

### ××™×š ×”×›×œ ×ž×©×ª×œ×‘ ×‘×™×—×“?

×”×¤×ª×¨×•×Ÿ ×”×ž×•×“×•×œ×¨×™ ×©×ª×™×›× × ×• **×ž×©×ª×œ×‘ ×‘×¦×•×¨×” ×ž×•×©×œ×ž×ª** ×¢× ×ª×”×œ×™×›×™ ×”×—×™×•×‘ ×•×”××¡×¤×§×”:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Complete Integration: Theme + Payment + Provisioning      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Step 1] User selects product
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MayaNetEsimProduct                   â”‚
â”‚  â€¢ color: "#10B981" (Green)            â”‚
â”‚  â€¢ brand_name: "Maya eSIM"             â”‚
â”‚  â€¢ billing_cycle: "one_time"           â”‚
â”‚  â€¢ checkout_theme: {...}               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Implements Payable
                 â”‚
[Step 2] Checkout page renders dynamically
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  checkout.blade.php                    â”‚
â”‚  â€¢ Reads $payable->getCheckoutTheme()  â”‚
â”‚  â€¢ Applies green colors via CSS vars   â”‚
â”‚  â€¢ Shows "Maya eSIM" branding          â”‚
â”‚  â€¢ Displays trust badges               â”‚
â”‚  â€¢ Shows eSIM-specific progress steps  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ User submits form
                 â”‚
[Step 3] Payment processed
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PublicCheckoutController::process()   â”‚
â”‚  â€¢ Validates customer data             â”‚
â”‚  â€¢ Calls PaymentService::process()     â”‚
â”‚  â€¢ Creates Order with metadata         â”‚
â”‚  â€¢ Links to original product           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Payment successful
                 â”‚
[Step 4] Provisioning triggered
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ProvisionEsimJob (Queue)              â”‚
â”‚  â€¢ Reads product details from Order    â”‚
â”‚  â€¢ Calls Maya Mobile API               â”‚
â”‚  â€¢ Receives ICCID + QR code            â”‚
â”‚  â€¢ Updates Order metadata              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ eSIM activated
                 â”‚
[Step 5] Notification sent with branded email
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Email Template                        â”‚
â”‚  â€¢ Uses product colors (#10B981)       â”‚
â”‚  â€¢ Shows "Maya eSIM" logo              â”‚
â”‚  â€¢ Includes branded QR code            â”‚
â”‚  â€¢ Links back to themed dashboard      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ×”×ª××ž×•×ª ×“×™× ×ž×™×•×ª ×œ×¤×™ ×¡×•×’ ×ž×•×¦×¨

#### ×“×•×’×ž×” 1: eSIM Package (Maya Mobile)

```php
$product = MayaNetEsimProduct::create([
    'name' => 'Global eSIM 10GB',
    'color' => '#10B981', // ×™×¨×•×§
    'billing_cycle' => BillingCycle::ONE_TIME,
    'brand_name' => 'Maya Global',
    'brand_tagline' => 'Connect Anywhere',
    'checkout_theme' => [
        'trust_badges' => [
            ['icon' => 'globe', 'text' => '180+ Countries'],
            ['icon' => 'instant', 'text' => 'Instant Activation'],
            ['icon' => 'data', 'text' => '10GB High-Speed Data'],
        ],
        'progress_steps' => [
            ['number' => 1, 'label' => 'Choose Plan'],
            ['number' => 2, 'label' => 'Payment'],
            ['number' => 3, 'label' => 'Get QR Code'],
        ],
    ],
]);

// Checkout ×”×ª×•×¦××”:
// âœ… ×¦×‘×¢ ×™×¨×•×§ ×‘×›×œ ×”×¢×ž×•×“
// âœ… Trust badges ×ž×•×ª××ž×™× ×œ-eSIM
// âœ… 3 ×©×œ×‘×™× ×‘×ž×§×•× 4
// âœ… "Maya Global" branding
// âœ… "Connect Anywhere" tagline
```

**×ª×”×œ×™×š ×”×ª×©×œ×•×:**
1. One-time payment (no subscription)
2. PaymentService processes card
3. ProvisionEsimJob â†’ Maya Mobile API
4. ICCID + QR code generated
5. Email sent with green branded template

---

#### ×“×•×’×ž×” 2: Recurring Subscription

```php
$product = MayaNetEsimProduct::create([
    'name' => 'Premium Monthly eSIM',
    'color' => '#8B5CF6', // ×¡×’×•×œ
    'billing_cycle' => BillingCycle::MONTHLY,
    'brand_name' => 'Maya Premium',
    'brand_tagline' => 'Unlimited Data Plans',
    'checkout_theme' => [
        'trust_badges' => [
            ['icon' => 'recurring', 'text' => 'Auto-Renewal'],
            ['icon' => 'cancel', 'text' => 'Cancel Anytime'],
            ['icon' => 'unlimited', 'text' => 'Unlimited Data'],
        ],
        'progress_steps' => [
            ['number' => 1, 'label' => 'Plan'],
            ['number' => 2, 'label' => 'Payment'],
            ['number' => 3, 'label' => 'Save Card'],
            ['number' => 4, 'label' => 'Confirm'],
        ],
    ],
]);

// Checkout ×”×ª×•×¦××”:
// âœ… ×¦×‘×¢ ×¡×’×•×œ
// âœ… Trust badges ×ž×•×ª××ž×™× ×œSubscription
// âœ… 4 ×©×œ×‘×™× (×›×•×œ×œ "Save Card")
// âœ… Checkbox "Save for auto-renewal" ×ž×•×¤×™×¢
```

**×ª×”×œ×™×š ×”×ª×©×œ×•×:**
1. Initial payment + token storage
2. OfficeGuyToken created (for recurring)
3. OfficeGuySubscription created
4. ProvisionEsimJob runs
5. Cron job charges monthly using saved token

---

#### ×“×•×’×ž×” 3: Hosting Package (Different Provider)

```php
// Future: When implementing Hosting products
$hosting = HostingPackage::create([
    'name' => 'Business Hosting',
    'color' => '#F59E0B', // ×›×ª×•×
    'billing_cycle' => BillingCycle::YEARLY,
    'provider' => 'resellerclub',
    'brand_name' => 'NM-Hosting',
    'checkout_theme' => [
        'trust_badges' => [
            ['icon' => 'uptime', 'text' => '99.9% Uptime'],
            ['icon' => 'backup', 'text' => 'Daily Backups'],
            ['icon' => 'support', 'text' => '24/7 Support'],
        ],
        'progress_steps' => [
            ['number' => 1, 'label' => 'Domain'],
            ['number' => 2, 'label' => 'Plan'],
            ['number' => 3, 'label' => 'Payment'],
            ['number' => 4, 'label' => 'Setup'],
        ],
    ],
]);

// ×ª×”×œ×™×š ××—×¨ ×œ×—×œ×•×˜×™×Ÿ:
// 1. Payment â†’ ResellerClub API (not Maya)
// 2. ProvisionHosting (not eSIM)
// 3. cPanel credentials sent (not QR code)
```

---

### ×˜×‘×œ×ª ×ž×™×¤×•×™: Product Type â†’ Checkout Behavior

| Product Attribute | eSIM (One-time) | eSIM (Recurring) | Hosting | Domain | Generic |
|-------------------|-----------------|------------------|---------|--------|---------|
| **Color Theme** | Dynamic | Dynamic | Dynamic | Dynamic | Dynamic |
| **Progress Steps** | 3 steps | 4 steps | 4 steps | 3 steps | 2 steps |
| **Save Card?** | Optional | **Required** | **Required** | Optional | No |
| **Trust Badges** | eSIM-specific | Subscription-specific | Hosting-specific | Domain-specific | Generic |
| **Provisioning** | Maya Mobile API | Maya + Subscription | ResellerClub | ResellerClub | None |
| **Output** | QR Code | QR Code + Renewal | cPanel URL | Nameservers | Confirmation |
| **Email Template** | Branded eSIM | Recurring reminder | Hosting welcome | Domain registered | Generic |

---

### ×§×•×“ ×œ×“×•×’×ž×”: Dynamic Rendering

```blade
{{-- checkout.blade.php - Dynamic rendering based on product --}}

@php
    $theme = $payable->getCheckoutTheme();
    $billingCycle = method_exists($payable, 'getBillingCycleEnum')
        ? $payable->getBillingCycleEnum()
        : BillingCycle::ONE_TIME;
    $isRecurring = $billingCycle !== BillingCycle::ONE_TIME;
@endphp

{{-- Dynamic branding --}}
<div class="brand" style="--brand-color: {{ $theme['colors']['primary'] }}">
    <h2>{{ $theme['branding']['name'] }}</h2>
    <p>{{ $theme['branding']['tagline'] }}</p>
</div>

{{-- Dynamic trust badges --}}
@foreach($theme['trust_badges'] as $badge)
    <span class="badge">{{ $badge['text'] }}</span>
@endforeach

{{-- Conditional: Save card (only for recurring) --}}
@if($isRecurring)
    <div class="save-card-section">
        <input type="checkbox" name="save_card" checked>
        <label>{{ __('Save card for auto-renewal') }}</label>
    </div>
@endif

{{-- Dynamic progress steps --}}
<nav class="progress">
    @foreach($theme['progress_steps'] as $step)
        <div class="step {{ $currentStep >= $step['number'] ? 'active' : '' }}">
            {{ $step['label'] }}
        </div>
    @endforeach
</nav>
```

---

### ×™×ª×¨×•× ×•×ª ×”××™× ×˜×’×¨×¦×™×”

#### 1ï¸âƒ£ ×¢×§×‘×™×•×ª ×ž×œ××”
```
Product â†’ Checkout â†’ Payment â†’ Provisioning â†’ Email
   â†“          â†“          â†“            â†“           â†“
 Green     Green      Green        Green       Green
```
×”×¦×‘×¢ ×•×”×‘×¨× ×“×™× ×’ × ×©×ž×¨×™× **×œ××•×¨×š ×›×œ ×”×ª×”×œ×™×š**

#### 2ï¸âƒ£ ×’×ž×™×©×•×ª ×ž×§×¡×™×ž×œ×™×ª
- ×›×œ ×ž×•×¦×¨ ×™×›×•×œ ×œ×”×™×•×ª ×©×•× ×” ×œ×—×œ×•×˜×™×Ÿ
- × ×™×ª×Ÿ ×œ×”×•×¡×™×£ ×¡×•×’×™ ×ž×•×¦×¨×™× ×—×“×©×™× ×‘×§×œ×•×ª
- ×”×ª××ž×” ×œ×›×œ ×¡×¤×§ (Maya, ResellerClub, etc.)

#### 3ï¸âƒ£ ×ª×—×–×•×§×” ×§×œ×”
- ×©×™× ×•×™ ×¦×‘×¢ = ×¢×“×›×•×Ÿ ×©×“×” ××—×“
- ×”×•×¡×¤×ª trust badge = JSON update
- ×©×™× ×•×™ flow = ×¢×“×›×•×Ÿ `progress_steps`

#### 4ï¸âƒ£ UX ×ž×©×•×¤×¨×ª
- ×”×œ×§×•×— ×¨×•××” ×¢×™×¦×•×‘ ×¢×§×‘×™
- ××™×Ÿ ×‘×œ×‘×•×œ ×‘×™×Ÿ ×ž×•×¦×¨×™× ×©×•× ×™×
- Branding ×‘×¨×•×¨ ×•×ž×•×›×¨

---

### ×ª×¨×—×™×© ×ž×œ×: ×ž×§×¦×” ×œ×§×¦×”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Complete User Journey - eSIM Purchase                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[T+0s]  User browses products catalog
         â””â”€ Sees "Global eSIM 10GB" with green badge

[T+5s]  Clicks "Buy Now"
         â””â”€ Redirects to /officeguy/checkout/123

[T+6s]  Checkout page loads
         â””â”€ GREEN themed
         â””â”€ "Maya Global" branding
         â””â”€ Trust badges: "180+ Countries", "Instant"
         â””â”€ 3-step progress: Plan â†’ Payment â†’ QR Code

[T+30s] User fills form
         â””â”€ Name, Email, Phone
         â””â”€ Card details (PaymentsJS iframe)
         â””â”€ Accepts terms

[T+45s] Clicks "Complete Payment"
         â””â”€ Form submitted to PublicCheckoutController::process()

[T+46s] Payment processed
         â””â”€ SUMIT API called
         â””â”€ Transaction created (OfficeGuyTransaction)
         â””â”€ Order created (App\Models\Order)
         â””â”€ Status: "processing"

[T+47s] Provisioning queued
         â””â”€ ProvisionEsimJob dispatched
         â””â”€ Queue: "provisioning"
         â””â”€ Status: "awaiting_provisioning"

[T+50s] Job picked up by worker
         â””â”€ Reads Order + Product
         â””â”€ Calls Maya Mobile API: POST /purchase-esim
         â””â”€ Receives: { iccid, qr_code, activation_code }

[T+55s] Order updated
         â””â”€ metadata.maya_net_esim = {...}
         â””â”€ Status: "active"
         â””â”€ provisioning_status: "completed"

[T+56s] Email sent
         â””â”€ GREEN branded template
         â””â”€ "Maya Global" logo
         â””â”€ QR code attached
         â””â”€ Activation instructions

[T+60s] User receives email
         â””â”€ Scans QR code
         â””â”€ eSIM activated instantly
         â””â”€ Order complete!
```

---

## 9. ×¡×™×›×•× ×•×”×ž×œ×¦×•×ª

### ×¡×™×›×•× ×‘×™×¦×•×¢
1. **Migration**: ×”×•×¡×¤×ª 4 ×©×“×•×ª ×—×“×©×™× (××•×¤×¦×™×•× ×œ×™)
2. **Trait**: ×™×¦×™×¨×ª `HasCheckoutTheme` (×—×•×‘×”)
3. **Model**: ×©×™×ž×•×© ×‘-Trait (×—×•×‘×”)
4. **Blade**: ×¢×“×›×•×Ÿ Template ×¢× ×ž×©×ª× ×™× ×“×™× ×ž×™×™× (×—×•×‘×”)
5. **Tests**: ×‘×“×™×§×•×ª ×‘-browser (×—×•×‘×”)
6. **Docs**: ×¢×“×›×•×Ÿ ×ª×™×¢×•×“ (×ž×•×ž×œ×¥)

### ×–×ž×Ÿ ×ž×©×•×¢×¨ ×›×•×œ×œ
**5-7 ×©×¢×•×ª** (×›×•×œ×œ ×‘×“×™×§×•×ª ×•×ª×™×¢×•×“)

### ×”×ž×œ×¦×•×ª ×œ×‘×™×¦×•×¢
1. âœ… **×”×ª×—×œ ×¢× Migration** - ××¤×©×¨ ××•×ª×” ××‘×œ ××œ ×ª×¨×™×¥ ×¢×“×™×™×Ÿ
2. âœ… **×¦×•×¨ ××ª ×”-Trait** - ×›××Ÿ ×”×œ×•×’×™×§×” ×”×ž×¨×›×–×™×ª
3. âœ… **×¢×“×›×Ÿ ×ž×•×“×œ ××—×“** - ×‘×“×•×§ ×©×”-Trait ×¢×•×‘×“
4. âœ… **×¢×“×›×Ÿ Blade ×‘×©×œ×‘×™×** - ×§×•×“× ×ž×©×ª× ×™×, ××—×¨ ×›×š ×”×—×œ×¤×•×ª
5. âœ… **×‘×“×•×§ ×‘×›×œ ×©×œ×‘** - ××œ ×ª×—×›×” ×œ×¡×•×£
6. âœ… **×”×¨×¥ migration ×¨×§ ××—×¨×™ ×©×”×›×œ ×¢×•×‘×“**

### Next Steps (××—×¨×™ ××™×©×•×¨)
1. ×”×× ×œ×‘×¦×¢ Migration ×›×¢×ª ××• ×œ×“×—×•×ª?
2. ×”×× ×™×© ×”×ª××ž×•×ª × ×•×¡×¤×•×ª × ×“×¨×©×•×ª?
3. ×”×× ×¦×¨×™×š ×“×•×’×ž××•×ª × ×•×¡×¤×•×ª?

---

**×¡×˜×˜×•×¡**: â³ **×ž×ž×ª×™×Ÿ ×œ××™×©×•×¨ ×œ(Pending Approval)**

**×©××œ×•×ª/×”×¢×¨×•×ª**: × ×©×ž×— ×œ×©×ž×•×¢ ×ž×©×•×‘ ×•×œ×”×ª××™× ××ª ×”×ª×•×›× ×™×ª ×œ×¤×™ ×”×¦×¨×›×™× ×©×œ×š.
